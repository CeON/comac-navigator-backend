<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>

        <script src="js/vendor/modernizr-2.6.2.min.js"></script>
        <script src="js/d3/d3.v3.js" charset="utf-8"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.1.js"><\/script>')</script>
        <script src="js/jqueryui/jquery-ui.js" charset="utf-8"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->


        <div id="search-sidebar" class="left col">
            <div id="search-form">
                <input id="searchInput" value="search" size="10"><button type="button">Search</button>
            </div>
            <div id="searchResults">

            </div>
        </div>
        <div class="right col">
            <div class="header row">
                View or edit something
            </div>
            <!--<div class="body row scroll-y">-->
            <div class="body row">
                <svg id="workspace">
                <circle cx="40" cy="60" r="10"></circle>
                <circle cx="80" cy="60" r="10"></circle>
                <circle cx="120" cy="60" r="10"></circle>
                </svg>
            </div>
            <div class="footer row">
                Some status message here
            </div>
        </div>

        <script>
            console.log("Loading button...");
            $("button").button().click(function (event) {
                event.preventDefault();
                console.log("Button pressed");
                doSearch();
            });

            var articles = [];
            for (var i = 0; i < 10; i++) {
                articles[i] = {
                    id: "art" + i,
                    name: "Article " + i,
                    authors: ["Author " + i + "_1", "Author " + i + "_2"]
                };
            }
            function doSearch() {
                var query = $("#searchInput").val();
                console.log("Search is being performed. Query=" + query + " response: " + articles);
                console.log(articles);
                var diventer = d3.select("#searchResults").selectAll("div")
                        .data(articles)
                        .enter().append("div");
                diventer.classed("search-result", true);
                diventer.append("div")
                        .text(function (d) {
                            return d.name;
                        }).classed("title", true);
                diventer.append("div").text(function (d) {
                    return d.authors.join(", ");
                }).classed("authors", true);
//                diventer.append("img")
//                        .attr("src", function (d) {
//                            return d.img;
//                        });
            }
        </script>

    </body>
</html>
